import{r as x,$ as z,h as b,w,ar as y,as as M,p as S,a5 as C,ag as O,Q as R,S as P,t as B,b as v,M as V,i as $,o as U,a1 as q,a8 as N,az as W,aa as A}from"./index-7c7db64b.js";function D(s){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=x(),e=x();if(z){const n=new ResizeObserver(t=>{s==null||s(t,n),t.length&&(d==="content"?e.value=t[0].contentRect:e.value=t[0].target.getBoundingClientRect())});b(()=>{n.disconnect()}),w(r,(t,a)=>{a&&(n.unobserve(y(a)),e.value=void 0),t&&n.observe(y(t))},{flush:"post"})}return{resizeRef:r,contentRect:M(e)}}const H=S({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),J=S({value:null,disabled:Boolean,selectedClass:String},"group-item");function L(s,d){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=C("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=O();R(Symbol.for(`${d.description}:id`),n);const t=P(d,null);if(!t){if(!r)return t;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${d.description}`)}const a=B(s,"value"),h=v(()=>!!(t.disabled.value||s.disabled));t.register({id:n,value:a,disabled:h},e),b(()=>{t.unregister(n)});const m=v(()=>t.isSelected(n)),I=v(()=>m.value&&[t.selectedClass.value,s.selectedClass]);return w(m,g=>{e.emit("group:selected",{value:g})},{flush:"sync"}),{id:n,isSelected:m,toggle:()=>t.select(n,!m.value),select:g=>t.select(n,g),selectedClass:I,value:a,disabled:h,group:t}}function T(s,d){let r=!1;const e=V([]),n=$(s,"modelValue",[],i=>i==null?[]:G(e,N(i)),i=>{const l=Q(e,i);return s.multiple?l:l[0]}),t=C("useGroup");function a(i,l){const o=i,u=Symbol.for(`${d.description}:id`),f=W(u,t==null?void 0:t.vnode).indexOf(l);A(o.value)==null&&(o.value=f),f>-1?e.splice(f,0,o):e.push(o)}function h(i){if(r)return;m();const l=e.findIndex(o=>o.id===i);e.splice(l,1)}function m(){const i=e.find(l=>!l.disabled);i&&s.mandatory==="force"&&!n.value.length&&(n.value=[i.id])}U(()=>{m()}),b(()=>{r=!0});function I(i,l){const o=e.find(u=>u.id===i);if(!(l&&(o!=null&&o.disabled)))if(s.multiple){const u=n.value.slice(),c=u.findIndex(E=>E===i),f=~c;if(l=l??!f,f&&s.mandatory&&u.length<=1||!f&&s.max!=null&&u.length+1>s.max)return;c<0&&l?u.push(i):c>=0&&!l&&u.splice(c,1),n.value=u}else{const u=n.value.includes(i);if(s.mandatory&&u)return;n.value=l??!u?[i]:[]}}function g(i){if(s.multiple,n.value.length){const l=n.value[0],o=e.findIndex(f=>f.id===l);let u=(o+i)%e.length,c=e[u];for(;c.disabled&&u!==o;)u=(u+i)%e.length,c=e[u];if(c.disabled)return;n.value=[e[u].id]}else{const l=e.find(o=>!o.disabled);l&&(n.value=[l.id])}}const p={register:a,unregister:h,selected:n,select:I,disabled:B(s,"disabled"),prev:()=>g(e.length-1),next:()=>g(1),isSelected:i=>n.value.includes(i),selectedClass:v(()=>s.selectedClass),items:v(()=>e),getItemIndex:i=>F(e,i)};return R(d,p),p}function F(s,d){const r=G(s,[d]);return r.length?s.findIndex(e=>e.id===r[0]):-1}function G(s,d){const r=[];return d.forEach(e=>{const n=s.find(a=>q(e,a.value)),t=s[e];(n==null?void 0:n.value)!=null?r.push(n.id):t!=null&&r.push(t.id)}),r}function Q(s,d){const r=[];return d.forEach(e=>{const n=s.findIndex(t=>t.id===e);if(~n){const t=s[n];r.push(t.value!=null?t.value:n)}}),r}export{T as a,L as b,H as c,J as m,D as u};
