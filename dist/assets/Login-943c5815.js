import{n as d,q as f,x as h,G as b,c as o,z as n,B as t,A as a,C as m,D as v,E as w,y as V}from"./index-c2b80dfa.js";import{b as k,a as y}from"./firebase-c87023ff.js";import{_ as g,k as u}from"./VAvatar-6a2b059e.js";import{V as p}from"./VTextField-d992a3b0.js";import{V as c,a as C}from"./VCard-c3805857.js";import{V as S}from"./VBtn-c49c062c.js";import{V as B}from"./VDialog-d9d7ca22.js";import"./index-36ffb4e1.js";import"./forwardRefs-e658ad70.js";import"./group-b9b90c12.js";import"./VOverlay-c76fb81e.js";import"./lazy-70d760db.js";const L={name:"LoginMain",data(){return{user:{account:"",pwd:""},visible:!0,dialogtext:"",isShow:!1}},methods:{loginBtn(){k(y,this.user.account,this.user.pwd).then(()=>{this.$nextTick(()=>{this.dialogtext="登入成功",this.setLoginState(!0),this.isShow=!0,setTimeout(()=>{d.push({name:"DashBoard"})},500)})}).catch(l=>{switch(l.code){case"auth/invalid-email":this.dialogtext="請輸入正確的電子郵件",this.isShow=!0;break;case"auth/missing-password":this.dialogtext="密碼請勿留白",this.isShow=!0;break;case"auth/invalid-credential":this.dialogtext="密碼錯誤",this.isShow=!0;break}})},ForgotPwd(){d.push({name:"ForgotPwd"})},Register(){d.push({name:"Register"})},toggleVisibility(){this.visible=!this.visible},...f("user",["setUser","setLoginState"])}},M={class:"pb-16 pt-16 bg-teal-lighten-5"},T=t("div",{class:"text-h4 mb-5"},"登入",-1),D=t("div",{class:"text-subtitle-1 text-medium-emphasis"},"帳號",-1),E={class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},F=t("br",null,null,-1),I={class:"mb-10"},P={class:"text-center mb-5"},U={class:"text-center"},N={class:"mt-7 mb-5"};function R(l,e,x,_,i,r){return h(),b("main",M,[o(c,{class:"mx-auto pa-13 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:n(()=>[T,D,o(p,{density:"compact",placeholder:"Email...","prepend-inner-icon":"mdi-email-outline",variant:"outlined",modelValue:i.user.account,"onUpdate:modelValue":e[0]||(e[0]=s=>i.user.account=s)},null,8,["modelValue"]),t("div",E,[a(" 密碼 "),t("a",{onClick:e[1]||(e[1]=m(s=>r.ForgotPwd(),["prevent"])),class:"text-caption text-decoration-none text-blue",href:"#",rel:"noopener noreferrer",target:"_blank"}," 忘記密碼 ?")]),o(p,{"append-inner-icon":i.visible?"mdi-eye-off":"mdi-eye",type:i.visible?"password":"text",density:"compact",placeholder:"password...","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",modelValue:i.user.pwd,"onUpdate:modelValue":e[2]||(e[2]=s=>i.user.pwd=s),"onClick:appendInner":r.toggleVisibility},null,8,["append-inner-icon","type","modelValue","onClick:appendInner"]),o(c,{class:"mt-2 mb-14",color:"surface-variant",variant:"tonal"},{default:n(()=>[o(C,{class:"text-medium-emphasis"},{default:n(()=>[o(u,{color:"red"},{default:n(()=>[a("mdi-information")]),_:1}),a(" 警告：錯誤三次會暫停登入 30 分鐘"),F,a(" 如果真的忘記密碼請立即點選忘記密碼選項 ")]),_:1})]),_:1}),t("div",I,[o(S,{block:"",class:"",color:"blue",size:"large",variant:"outlined",onClick:r.loginBtn},{default:n(()=>[a("登入")]),_:1},8,["onClick"])]),t("div",P,[t("a",{class:"text-blue text-decoration-none",href:"#",rel:"noopener noreferrer",target:"_blank",onClick:e[3]||(e[3]=m(s=>r.Register(),["prevent"]))},[a(" 尚未註冊？ 註冊去 "),o(u,{icon:"mdi-chevron-right"})])])]),_:1}),o(B,{modelValue:i.isShow,"onUpdate:modelValue":e[4]||(e[4]=s=>i.isShow=s),"max-width":"350px",transition:"dialog-top-transition",class:"mt-n16"},{default:n(()=>[t("div",U,[o(c,null,{default:n(()=>[t("div",N,[t("div",null,v(i.dialogtext),1)])]),_:1})])]),_:1},8,["modelValue"])])}const z=g(L,[["render",R]]),A={name:"Login",components:{LoginMain:z}};function j(l,e,x,_,i,r){const s=w("Login-Main");return h(),V(s)}const ee=g(A,[["render",j]]);export{ee as default};
