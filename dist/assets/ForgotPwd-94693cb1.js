import{n as _,x as l,y as u,z as s,c as t,A as g,G as x,D as m,J as V,B as r,E as w}from"./index-c2b80dfa.js";import{c as v,a as S}from"./firebase-c87023ff.js";import{_ as p}from"./VAvatar-6a2b059e.js";import{V as b}from"./VForm-a049f5d6.js";import{V as E}from"./VRow-eb052509.js";import{V as k}from"./VTextField-d992a3b0.js";import{V as d}from"./VBtn-c49c062c.js";import{V as c,b as y}from"./VCard-c3805857.js";import{V as C}from"./VDialog-d9d7ca22.js";import{V as F}from"./VContainer-3bdba5f4.js";import"./forwardRefs-e658ad70.js";/* empty css              */import"./index-36ffb4e1.js";import"./group-b9b90c12.js";import"./VOverlay-c76fb81e.js";import"./lazy-70d760db.js";const M={name:"ForgotpwdMain",data(){return{form:!1,loading:!1,emailError:"",user:{email:""},isShow:!1,dialogtext:""}},methods:{resend(){v(S,this.user.email).then(()=>{this.dialogtext="已寄送信件,請查看您的信箱以重設密碼",this.loading=!0,this.isShow=!0,this.user={email:""},setTimeout(()=>{_.push({name:"Login"})},500)}).catch(i=>{switch(i.code){case"auth/missing-email":this.dialogtext="請輸入電子郵件",this.isShow=!0,this.loading=!1;break;case"auth/invalid-email":this.dialogtext="請輸入正確的電子郵件格式",this.isShow=!0,this.loading=!1;break}})}},watch:{"user.email":function(i){/^\S+@\S+\.\S+$/.test(i)?this.emailError="":this.emailError="請輸入有效的Email格式"}}},B=r("div",{class:"text-center mb-6 text-h4"},"重設密碼",-1),N={key:0,class:"text-red text-h7 my-n5"},D={class:"text-center"},P={class:"mt-7 mb-3"};function T(i,o,f,h,e,n){return l(),u(F,{class:"bg-teal-lighten-5 fill-height pa-12",fluid:""},{default:s(()=>[t(c,{"max-width":"512",class:"ma-auto px-6 py-8 w-100"},{default:s(()=>[t(b,{ref:"form"},{default:s(()=>[B,t(E,{class:"align-center mb-2 mt-5"},{default:s(()=>[t(k,{label:"Email...",class:"mr-2",modelValue:e.user.email,"onUpdate:modelValue":o[0]||(o[0]=a=>e.user.email=a)},null,8,["modelValue"]),t(d,{type:"submit",loading:e.loading,onClick:n.resend},{default:s(()=>[g("寄送")]),_:1},8,["loading","onClick"])]),_:1}),e.emailError?(l(),x("div",N,m(e.emailError),1)):V("",!0)]),_:1},512)]),_:1}),t(C,{modelValue:e.isShow,"onUpdate:modelValue":o[2]||(o[2]=a=>e.isShow=a),"max-width":"350px",transition:"dialog-top-transition",class:"mt-n16"},{default:s(()=>[r("div",D,[t(c,null,{default:s(()=>[r("div",P,[r("div",null,m(e.dialogtext),1)]),t(y,{class:"mb-3 d-flex justify-center tonal"},{default:s(()=>[t(d,{text:"確認",onClick:o[1]||(o[1]=a=>e.isShow=!1),color:"#5865f2",variant:"flat"})]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})}const A=p(M,[["render",T]]),R={name:"ForgotPwd",components:{ForgotpwdMain:A}};function U(i,o,f,h,e,n){const a=w("Forgotpwd-Main");return l(),u(a)}const ee=p(R,[["render",U]]);export{ee as default};
