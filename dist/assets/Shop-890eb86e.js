import{y as Z,V as ee,p as ae,R as S,k as te,j as le,D as ne,P as ie,u as se,n as re,W as oe,s as ue,v as F,q as x,l as h,f as t,G as P,X as C,Y as N,U as T,m as ce,a as de,_ as q,b as W,o as w,c as D,g as u,F as ve,i as fe,e as b,L as G,h as I,t as $,w as me}from"./index-19afddfb.js";import{V as z}from"./VRow-bbd300a0.js";import{V as E}from"./VCol-14ec4fd6.js";import{V as ge}from"./VTextField-7361a743.js";import{V as U}from"./VContainer-4627115c.js";import{c as pe,m as he,o as be,d as _e,e as ye,p as xe,b as Ve,q as ke,u as Le,a as Pe,V as Ie}from"./VAvatar-b3e1e968.js";import{u as Se}from"./group-28cdc81c.js";import{V}from"./VBtn-cf7fa0a2.js";import{V as Ce,c as we,d as j}from"./VCard-404c198d.js";/* empty css              */import"./index-045f131f.js";import"./forwardRefs-e658ad70.js";function Ae(){const e=Z([]);ee(()=>e.value=[]);function o(r,_){e.value[_]=r}return{refs:e,updateRef:o}}const $e=ae({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:S,default:"$first"},prevIcon:{type:S,default:"$prev"},nextIcon:{type:S,default:"$next"},lastIcon:{type:S,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...pe(),...he(),...be(),..._e(),...ye(),...xe(),...Ve({tag:"nav"}),...te(),...ke({variant:"text"})},"VPagination"),Be=le()({name:"VPagination",props:$e(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,o){let{slots:r,emit:_}=o;const l=ne(e,"modelValue"),{t:f,n:y}=ie(),{isRtl:s}=se(),{themeClasses:B}=re(e),{width:K}=oe(),A=ue(-1);F(void 0,{scoped:!0});const{resizeRef:O}=Se(a=>{if(!a.length)return;const{target:n,contentRect:i}=a[0],v=n.querySelector(".v-pagination__list > *");if(!v)return;const m=i.width,L=v.offsetWidth+parseFloat(getComputedStyle(v).marginRight)*2;A.value=R(m,L)}),c=x(()=>parseInt(e.length,10)),d=x(()=>parseInt(e.start,10)),g=x(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):A.value>=0?A.value:R(K.value,58));function R(a,n){const i=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-n*i)/n).toFixed(2)))}const X=x(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[l.value];if(c.value<=g.value)return C(c.value,d.value);const a=g.value%2===0,n=a?g.value/2:Math.floor(g.value/2),i=a?n:n+1,v=c.value-n;if(i-l.value>=0)return[...C(Math.max(1,g.value-1),d.value),e.ellipsis,c.value];if(l.value-v>=(a?1:0)){const m=g.value-1,L=c.value-m+d.value;return[d.value,e.ellipsis,...C(m,L)]}else{const m=Math.max(1,g.value-3),L=m===1?l.value:l.value-Math.ceil(m/2)+d.value;return[d.value,e.ellipsis,...C(m,L),e.ellipsis,c.value]}});function k(a,n,i){a.preventDefault(),l.value=n,i&&_(i,n)}const{refs:Y,updateRef:H}=Ae();F({VPaginationBtn:{color:h(e,"color"),border:h(e,"border"),density:h(e,"density"),size:h(e,"size"),variant:h(e,"variant"),rounded:h(e,"rounded"),elevation:h(e,"elevation")}});const J=x(()=>X.value.map((a,n)=>{const i=v=>H(v,n);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${n}`,page:a,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const v=a===l.value;return{isActive:v,key:a,page:y(a),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:v?e.activeColor:e.color,"aria-current":v,"aria-label":f(v?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:m=>k(m,a)}}}})),p=x(()=>{const a=!!e.disabled||l.value<=d.value,n=!!e.disabled||l.value>=d.value+c.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:i=>k(i,d.value,"first"),disabled:a,"aria-label":f(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:i=>k(i,l.value-1,"prev"),disabled:a,"aria-label":f(e.previousAriaLabel),"aria-disabled":a},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:i=>k(i,l.value+1,"next"),disabled:n,"aria-label":f(e.nextAriaLabel),"aria-disabled":n},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:i=>k(i,d.value+c.value-1,"last"),disabled:n,"aria-label":f(e.lastAriaLabel),"aria-disabled":n}:void 0}});function M(){var n;const a=l.value-d.value;(n=Y.value[a])==null||n.$el.focus()}function Q(a){a.key===N.left&&!e.disabled&&l.value>+e.start?(l.value=l.value-1,T(M)):a.key===N.right&&!e.disabled&&l.value<d.value+c.value-1&&(l.value=l.value+1,T(M))}return Le(()=>t(e.tag,{ref:O,class:["v-pagination",B.value,e.class],style:e.style,role:"navigation","aria-label":f(e.ariaLabel),onKeydown:Q,"data-test":"v-pagination-root"},{default:()=>[t("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&t("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(p.value.first):t(V,P({_as:"VPaginationBtn"},p.value.first),null)]),t("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(p.value.prev):t(V,P({_as:"VPaginationBtn"},p.value.prev),null)]),J.value.map((a,n)=>t("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[r.item?r.item(a):t(V,P({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),t("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(p.value.next):t(V,P({_as:"VPaginationBtn"},p.value.next),null)]),e.showFirstLastPage&&t("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(p.value.last):t(V,P({_as:"VPaginationBtn"},p.value.last),null)])])]})),{}}}),Re={data(){return{search:"",page:1,maxitem:12}},methods:{addToCart(e){this.addItem(e)},...ce("cart",["addItem"])},computed:{totalItem(){return this.searching.length},displayItem(){const e=(this.page-1)*this.maxitem,o=e+this.maxitem;return this.searching.slice(e,o)},searching(){const e=this.totalItems;if(!this.search)return e;const o=this.search.toLowerCase();return e.filter(r=>r.title.toLowerCase().indexOf(o)>-1)},totalItems(){return this.itemList},...de("cart",["itemList","cartItem"])},watch:{page(e,o){e!==o&&window.scrollTo(0,0)}}},Me=b("br",null,null,-1),Fe=b("h3",{class:"left"},"首頁 / 全部商品",-1),Ne=b("br",null,null,-1),Te={class:"d-flex justify-space-between align-items-center"},De={class:"d-flex flex-column justify-end pr-4"},ze=b("br",null,null,-1);function Ee(e,o,r,_,l,f){const y=W("router-link");return w(),D("div",null,[Me,Fe,Ne,t(U,null,{default:u(()=>[t(z,null,{default:u(()=>[t(E,null,{default:u(()=>[t(ge,{"prepend-inner-icon":"mdi-magnify","single-line":"",clearable:"","hide-details":"",label:"搜尋商品...",modelValue:l.search,"onUpdate:modelValue":o[0]||(o[0]=s=>l.search=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(U,null,{default:u(()=>[t(z,null,{default:u(()=>[(w(!0),D(ve,null,fe(f.displayItem,s=>(w(),G(E,{key:s.id,cols:"12",sm:"6",md:"4",class:"mx-auto text-center"},{default:u(()=>[t(Ce,{height:"100%",class:"itemData",link:""},{default:u(()=>[t(y,{to:{name:"ShopItem",params:{id:s.id}}},{default:u(()=>[t(Pe,{src:s.img},null,8,["src"])]),_:2},1032,["to"]),b("div",Te,[b("div",null,[t(y,{to:{name:"ShopItem",params:{id:s.id}},class:"d-flex flex-column"},{default:u(()=>[t(we,{class:"mt-3 pl-6 text-l",style:{color:"#000"}},{default:u(()=>[I($(s.title),1)]),_:2},1024),t(j,{class:"mt-3 pl-6 text-l",style:{color:"#000"}},{default:u(()=>[I($(s.description),1)]),_:2},1024),t(j,{class:"pb-7 mt-3 pl-6 text-l",style:{color:"#000"}},{default:u(()=>[I("定價: $"+$(s.prices),1)]),_:2},1024)]),_:2},1032,["to"])]),b("div",De,[t(V,{class:"mb-7 textAdd",onClick:me(B=>f.addToCart(s),["prevent"])},{default:u(()=>[I("+加入"),t(Ie,null,{default:u(()=>[I("mdi-shopping-outline")]),_:1})]),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),ze,t(Be,{modelValue:l.page,"onUpdate:modelValue":o[1]||(o[1]=s=>l.page=s),length:Math.ceil(f.totalItem/l.maxitem),class:"pb-10"},null,8,["modelValue","length"])]),_:1})])}const Ue=q(Re,[["render",Ee]]),je={components:{ShopMain:Ue}};function qe(e,o,r,_,l,f){const y=W("Shop-Main");return w(),G(y)}const ta=q(je,[["render",qe]]);export{ta as default};
