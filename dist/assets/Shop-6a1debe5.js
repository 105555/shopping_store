import{r as Z,V as ee,p as ae,R as S,m as te,g as le,i as ne,P as ie,u as se,a as re,W as oe,s as ue,d as F,b as x,t as b,c as t,k as P,X as C,Y as M,U as N,y as ce,_ as j,z as K,B as w,I as D,D as u,J as de,K as ve,G as h,C as W,E as I,L as B}from"./index-7c7db64b.js";import{V as T}from"./VRow-0c1ec9b7.js";import{V as z}from"./VCol-20c80595.js";import{V as fe}from"./VTextField-553e4953.js";import{V as E}from"./VContainer-c72e344e.js";import{b as ge,m as me,o as pe,c as be,d as he,p as _e,a as ye,q as xe,u as Ve,V as ke,j as Le}from"./VAvatar-04a00f10.js";import{u as Pe}from"./group-059c7191.js";import{V}from"./VBtn-1a376f6a.js";import{V as Ie,c as Se,d as U}from"./VCard-10989986.js";/* empty css              */import"./index-53c4966a.js";import"./forwardRefs-e658ad70.js";function Ce(){const e=Z([]);ee(()=>e.value=[]);function o(s,_){e.value[_]=s}return{refs:e,updateRef:o}}const we=ae({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:S,default:"$first"},prevIcon:{type:S,default:"$prev"},nextIcon:{type:S,default:"$next"},lastIcon:{type:S,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ge(),...me(),...pe(),...be(),...he(),..._e(),...ye({tag:"nav"}),...te(),...xe({variant:"text"})},"VPagination"),Ae=le()({name:"VPagination",props:we(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,o){let{slots:s,emit:_}=o;const l=ne(e,"modelValue"),{t:f,n:y}=ie(),{isRtl:r}=se(),{themeClasses:q}=re(e),{width:G}=oe(),A=ue(-1);F(void 0,{scoped:!0});const{resizeRef:O}=Pe(a=>{if(!a.length)return;const{target:n,contentRect:i}=a[0],v=n.querySelector(".v-pagination__list > *");if(!v)return;const g=i.width,L=v.offsetWidth+parseFloat(getComputedStyle(v).marginRight)*2;A.value=$(g,L)}),c=x(()=>parseInt(e.length,10)),d=x(()=>parseInt(e.start,10)),m=x(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):A.value>=0?A.value:$(G.value,58));function $(a,n){const i=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-n*i)/n).toFixed(2)))}const X=x(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=0)return[];if(m.value===1)return[l.value];if(c.value<=m.value)return C(c.value,d.value);const a=m.value%2===0,n=a?m.value/2:Math.floor(m.value/2),i=a?n:n+1,v=c.value-n;if(i-l.value>=0)return[...C(Math.max(1,m.value-1),d.value),e.ellipsis,c.value];if(l.value-v>=(a?1:0)){const g=m.value-1,L=c.value-g+d.value;return[d.value,e.ellipsis,...C(g,L)]}else{const g=Math.max(1,m.value-3),L=g===1?l.value:l.value-Math.ceil(g/2)+d.value;return[d.value,e.ellipsis,...C(g,L),e.ellipsis,c.value]}});function k(a,n,i){a.preventDefault(),l.value=n,i&&_(i,n)}const{refs:J,updateRef:Y}=Ce();F({VPaginationBtn:{color:b(e,"color"),border:b(e,"border"),density:b(e,"density"),size:b(e,"size"),variant:b(e,"variant"),rounded:b(e,"rounded"),elevation:b(e,"elevation")}});const H=x(()=>X.value.map((a,n)=>{const i=v=>Y(v,n);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${n}`,page:a,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const v=a===l.value;return{isActive:v,key:a,page:y(a),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:v?e.activeColor:e.color,"aria-current":v,"aria-label":f(v?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:g=>k(g,a)}}}})),p=x(()=>{const a=!!e.disabled||l.value<=d.value,n=!!e.disabled||l.value>=d.value+c.value-1;return{first:e.showFirstLastPage?{icon:r.value?e.lastIcon:e.firstIcon,onClick:i=>k(i,d.value,"first"),disabled:a,"aria-label":f(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:r.value?e.nextIcon:e.prevIcon,onClick:i=>k(i,l.value-1,"prev"),disabled:a,"aria-label":f(e.previousAriaLabel),"aria-disabled":a},next:{icon:r.value?e.prevIcon:e.nextIcon,onClick:i=>k(i,l.value+1,"next"),disabled:n,"aria-label":f(e.nextAriaLabel),"aria-disabled":n},last:e.showFirstLastPage?{icon:r.value?e.firstIcon:e.lastIcon,onClick:i=>k(i,d.value+c.value-1,"last"),disabled:n,"aria-label":f(e.lastAriaLabel),"aria-disabled":n}:void 0}});function R(){var n;const a=l.value-d.value;(n=J.value[a])==null||n.$el.focus()}function Q(a){a.key===M.left&&!e.disabled&&l.value>+e.start?(l.value=l.value-1,N(R)):a.key===M.right&&!e.disabled&&l.value<d.value+c.value-1&&(l.value=l.value+1,N(R))}return Ve(()=>t(e.tag,{ref:O,class:["v-pagination",q.value,e.class],style:e.style,role:"navigation","aria-label":f(e.ariaLabel),onKeydown:Q,"data-test":"v-pagination-root"},{default:()=>[t("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&t("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[s.first?s.first(p.value.first):t(V,P({_as:"VPaginationBtn"},p.value.first),null)]),t("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[s.prev?s.prev(p.value.prev):t(V,P({_as:"VPaginationBtn"},p.value.prev),null)]),H.value.map((a,n)=>t("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[s.item?s.item(a):t(V,P({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),t("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[s.next?s.next(p.value.next):t(V,P({_as:"VPaginationBtn"},p.value.next),null)]),e.showFirstLastPage&&t("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[s.last?s.last(p.value.last):t(V,P({_as:"VPaginationBtn"},p.value.last),null)])])]})),{}}}),Be={data(){return{search:"",page:1,maxitem:12}},computed:{totalItem(){return this.searching.length},displayItem(){const e=(this.page-1)*this.maxitem,o=e+this.maxitem;return this.searching.slice(e,o)},searching(){const e=this.totalItems;if(!this.search)return e;const o=this.search.toLowerCase();return e.filter(s=>s.title.toLowerCase().indexOf(o)>-1)},totalItems(){return this.itemList},...ce("cart",["itemList"])},watch:{page(e,o){e!==o&&window.scrollTo(0,0)}}},$e=h("br",null,null,-1),Re=h("h3",{class:"left"},"首頁 / 全部商品",-1),Fe=h("br",null,null,-1),Me={class:"d-flex justify-space-between align-items-center"},Ne={class:"d-flex flex-column justify-end pr-4"},De=h("br",null,null,-1);function Te(e,o,s,_,l,f){const y=K("router-link");return w(),D("div",null,[$e,Re,Fe,t(E,null,{default:u(()=>[t(T,null,{default:u(()=>[t(z,null,{default:u(()=>[t(fe,{"prepend-inner-icon":"mdi-magnify","single-line":"",clearable:"","hide-details":"",label:"搜尋商品...",modelValue:l.search,"onUpdate:modelValue":o[0]||(o[0]=r=>l.search=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(E,null,{default:u(()=>[t(T,null,{default:u(()=>[(w(!0),D(de,null,ve(f.displayItem,r=>(w(),W(z,{key:r.id,cols:"12",sm:"6",md:"4",class:"mx-auto text-center"},{default:u(()=>[t(Ie,{height:"100%",class:"itemData",link:""},{default:u(()=>[t(y,{to:{name:"ShopItem",params:{id:r.id}}},{default:u(()=>[t(ke,{src:r.img},null,8,["src"])]),_:2},1032,["to"]),h("div",Me,[h("div",null,[t(y,{to:{name:"ShopItem",params:{id:r.id}},class:"d-flex flex-column"},{default:u(()=>[t(Se,{class:"mt-3 pl-6 text-l",style:{color:"#000"}},{default:u(()=>[I(B(r.title),1)]),_:2},1024),t(U,{class:"mt-3 pl-6 text-l",style:{color:"#000"}},{default:u(()=>[I(B(r.description),1)]),_:2},1024),t(U,{class:"pb-7 mt-3 pl-6 text-l",style:{color:"#000"}},{default:u(()=>[I("定價: $"+B(r.prices),1)]),_:2},1024)]),_:2},1032,["to"])]),h("div",Ne,[t(V,{class:"mb-7 textAdd",onClick:e.addToCart},{default:u(()=>[I("+加入"),t(Le,null,{default:u(()=>[I("mdi-shopping-outline")]),_:1})]),_:1},8,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),De,t(Ae,{modelValue:l.page,"onUpdate:modelValue":o[1]||(o[1]=r=>l.page=r),length:Math.ceil(f.totalItem/l.maxitem),class:"pb-10"},null,8,["modelValue","length"])]),_:1})])}const ze=j(Be,[["render",Te]]),Ee={components:{ShopMain:ze}};function Ue(e,o,s,_,l,f){const y=K("Shop-Main");return w(),W(y)}const ea=j(Ee,[["render",Ue]]);export{ea as default};
