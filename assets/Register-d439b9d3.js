import{p as F,a3 as M,i as L,C as N,al as D,n as T,ai as q,e as r,E as c,_ as b,r as p,o as y,Q as x,f as a,d as i,w as z,g as f,t as Q,P as W}from"./index-9e565168.js";import{d as Z,a as j,u as G}from"./firebase-1713f494.js";import{V}from"./VContainer-87c0ea69.js";import{a as H,c as J,d as h,V as u}from"./VTextField-1375514e.js";import{m as K,V as g}from"./VCheckboxBtn-2468d1bc.js";import{u as O,p as X,n as Y}from"./VCard-6769d99c.js";import{V as $}from"./VBtn-acc3bfeb.js";import{V as ee}from"./VForm-f35b35a1.js";import{V as se}from"./VDialog-8e304d23.js";/* empty css              */import"./index-714d60d8.js";import"./forwardRefs-612f8129.js";import"./lazy-43f8a239.js";import"./dialog-transition-82485eed.js";const te=F({...H(),...M(K(),["inline"])},"VCheckbox"),le=L()({name:"VCheckbox",inheritAttrs:!1,props:te(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,s){let{attrs:d,slots:n}=s;const t=N(e,"modelValue"),{isFocused:o,focus:l,blur:v}=J(e),k=D(),w=T(()=>e.id||`checkbox-${k}`);return O(()=>{const[C,_]=q(d),R=h.filterProps(e),P=g.filterProps(e);return r(h,c({class:["v-checkbox",e.class]},C,R,{modelValue:t.value,"onUpdate:modelValue":m=>t.value=m,id:w.value,focused:o.value,style:e.style}),{...n,default:m=>{let{id:U,messagesId:I,isDisabled:A,isReadonly:B,isValid:E}=m;return r(g,c(P,{id:U.value,"aria-describedby":I.value,disabled:A.value,readonly:B.value},_,{error:E.value===!1,modelValue:t.value,"onUpdate:modelValue":S=>t.value=S,onFocus:l,onBlur:v}),n)}})}),{}}}),oe={data(){return{user:{name:"",email:"",pwd:"",confirm:""},terms:!1,visible:!0,isShow:!1,dialogtext:""}},methods:{register(){Z(j,this.user.email,this.user.pwd).then(e=>{const s=e.user;G(s,{displayName:this.user.name}),this.dialogtext="註冊成功",this.isShow=!0,setTimeout(()=>{p.push({name:"Login"})},500)}).catch(e=>{const s=e.code;switch(console.log(s),s){case"auth/invalid-email":this.dialogtext="Email格式不正確",this.isShow=!0;break;case"auth/email-already-in-use":this.dialogtext="Email已存在",this.isShow=!0;break}})},toggleVisibility(){this.visible=!this.visible},Login(){p.push({name:"Login"})}},computed:{required(e){return!!e||"必填項目"},emailRules(){return[e=>!!e||"Email必須填寫",e=>/.+@.+\..+/.test(e)||"請輸入有效格式"]},passwordRules(){return[e=>!!e||"密碼必須填寫",e=>e&&e.length>=8||"密碼須至少包含8個字符",e=>/[A-Z]/.test(e)||"密碼須包含至少一個大寫字母",e=>/[a-z]/.test(e)||"密碼須包含至少一個小寫字母",e=>/\d/.test(e)||"密碼須包含至少一個數字",e=>/[@#$%^&+=]/.test(e)||"密碼須包含至少一個特殊字符 (@#$%^&+=)"]},confirmRules(){return[e=>!!e||"必須填寫",e=>e===this.user.pwd||"密碼不匹配"]},formValid(){return!!this.user.name&&!!this.user.email&&!!this.user.pwd&&!!this.user.confirm&&!!this.terms}}},re=i("div",{class:"text-h4 text-center mb-5"},"註冊會員",-1),ie={class:"text-center mb-8"},ae=i("span",{style:{color:"red","text-decoration":"underline"}},"登入",-1),ne=i("hr",null,null,-1),ue={class:"text-center"},de={class:"mt-7 mb-5"};function me(e,s,d,n,t,o){return y(),x(V,{class:"fill-height pa-5",style:{background:"linear-gradient(to right, #e2e2e2, #d7f0e5)"},fluid:""},{default:a(()=>[r(ee,{modelValue:e.form,"onUpdate:modelValue":s[6]||(s[6]=l=>e.form=l),class:"mx-auto bg-white rounded-lg pa-10 mb-16 mt-16","max-width":"500",title:"註冊","data-aos":"flip-right","data-aos-duration":"1000"},{default:a(()=>[r(V,null,{default:a(()=>[re,i("div",ie,[i("a",{href:"#",onClick:s[0]||(s[0]=z((...l)=>o.Login&&o.Login(...l),["prevent"])),class:"text-caption"},[f("已經是會員？ "),ae])]),r(u,{modelValue:t.user.name,"onUpdate:modelValue":s[1]||(s[1]=l=>t.user.name=l),color:"primary",label:"暱稱...",variant:"underlined",style:{"caret-color":"pink"},placeholder:"your username",rules:[o.required]},null,8,["modelValue","rules"]),r(u,{modelValue:t.user.email,"onUpdate:modelValue":s[2]||(s[2]=l=>t.user.email=l),color:"primary",label:"Email...",variant:"underlined",style:{"caret-color":"pink"},placeholder:"your email",rules:o.emailRules},null,8,["modelValue","rules"]),r(u,{modelValue:t.user.pwd,"onUpdate:modelValue":s[3]||(s[3]=l=>t.user.pwd=l),color:"primary",label:"密碼...",variant:"underlined",style:{"caret-color":"pink"},placeholder:"your password",rules:o.passwordRules,"append-inner-icon":t.visible?"mdi-eye-off":"mdi-eye",type:t.visible?"password":"text","onClick:appendInner":o.toggleVisibility},null,8,["modelValue","rules","append-inner-icon","type","onClick:appendInner"]),r(u,{modelValue:t.user.confirm,"onUpdate:modelValue":s[4]||(s[4]=l=>t.user.confirm=l),color:"primary",label:"密碼確認...",rules:o.confirmRules,style:{"caret-color":"pink"},"append-inner-icon":t.visible?"mdi-eye-off":"mdi-eye",type:t.visible?"password":"text",placeholder:"Re-Enter your password",variant:"underlined","onClick:appendInner":o.toggleVisibility},null,8,["modelValue","rules","append-inner-icon","type","onClick:appendInner"]),r(le,{modelValue:t.terms,"onUpdate:modelValue":s[5]||(s[5]=l=>t.terms=l),color:"secondary",label:"I agree to site terms and conditions",class:"ml-n5 text-caption"},null,8,["modelValue"])]),_:1}),ne,r(X,{class:"mt-5"},{default:a(()=>[r($,{block:"",class:"bg-success",disabled:!o.formValid,onClick:o.register},{default:a(()=>[f(" 註冊 ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1},8,["modelValue"]),r(se,{modelValue:t.isShow,"onUpdate:modelValue":s[7]||(s[7]=l=>t.isShow=l),"max-width":"350px",transition:"dialog-top-transition",class:"mt-n16"},{default:a(()=>[i("div",ue,[r(Y,null,{default:a(()=>[i("div",de,[i("div",null,Q(t.dialogtext),1)])]),_:1})])]),_:1},8,["modelValue"])]),_:1})}const ce=b(oe,[["render",me]]),pe={name:"Register",components:{RegisterMain:ce}};function fe(e,s,d,n,t,o){const l=W("Register-Main");return y(),x(l)}const Ie=b(pe,[["render",fe]]);export{Ie as default};
