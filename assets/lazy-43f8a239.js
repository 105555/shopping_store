import{aB as G,x as z,a6 as V,B as p,z as b,aD as E,p as y,ab as R,al as A,V as C,Z as P,k as w,n as m,R as L,C as O,A as U,aR as M,a8 as $,ad as q,aH as F,af as N,s as W}from"./index-9e565168.js";function Z(l){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const u=G(),e=z();if(V){const n=new ResizeObserver(s=>{l==null||l(s,n),s.length&&(o==="content"?e.value=s[0].contentRect:e.value=s[0].target.getBoundingClientRect())});p(()=>{n.disconnect()}),b(()=>u.el,(s,d)=>{d&&(n.unobserve(d),e.value=void 0),s&&n.observe(s)},{flush:"post"})}return{resizeRef:u,contentRect:E(e)}}const _=y({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),J=y({value:null,disabled:Boolean,selectedClass:String},"group-item");function Q(l,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=R("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=A();C(Symbol.for(`${o.description}:id`),n);const s=P(o,null);if(!s){if(!u)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${o.description}`)}const d=w(l,"value"),v=m(()=>!!(s.disabled.value||l.disabled));s.register({id:n,value:d,disabled:v},e),p(()=>{s.unregister(n)});const g=m(()=>s.isSelected(n)),I=m(()=>s.items.value[0].id===n),h=m(()=>s.items.value[s.items.value.length-1].id===n),x=m(()=>g.value&&[s.selectedClass.value,l.selectedClass]);return b(g,t=>{e.emit("group:selected",{value:t})},{flush:"sync"}),{id:n,isSelected:g,isFirst:I,isLast:h,toggle:()=>s.select(n,!g.value),select:t=>s.select(n,t),selectedClass:x,value:d,disabled:v,group:s}}function T(l,o){let u=!1;const e=L([]),n=O(l,"modelValue",[],t=>t==null?[]:B(e,q(t)),t=>{const i=D(e,t);return l.multiple?i:i[0]}),s=R("useGroup");function d(t,i){const r=t,a=Symbol.for(`${o.description}:id`),f=F(a,s==null?void 0:s.vnode).indexOf(i);N(r.value)==null&&(r.value=f,r.useIndexAsValue=!0),f>-1?e.splice(f,0,r):e.push(r)}function v(t){if(u)return;g();const i=e.findIndex(r=>r.id===t);e.splice(i,1)}function g(){const t=e.find(i=>!i.disabled);t&&l.mandatory==="force"&&!n.value.length&&(n.value=[t.id])}U(()=>{g()}),p(()=>{u=!0}),M(()=>{for(let t=0;t<e.length;t++)e[t].useIndexAsValue&&(e[t].value=t)});function I(t,i){const r=e.find(a=>a.id===t);if(!(i&&(r!=null&&r.disabled)))if(l.multiple){const a=n.value.slice(),c=a.findIndex(S=>S===t),f=~c;if(i=i??!f,f&&l.mandatory&&a.length<=1||!f&&l.max!=null&&a.length+1>l.max)return;c<0&&i?a.push(t):c>=0&&!i&&a.splice(c,1),n.value=a}else{const a=n.value.includes(t);if(l.mandatory&&a)return;n.value=i??!a?[t]:[]}}function h(t){if(l.multiple,n.value.length){const i=n.value[0],r=e.findIndex(f=>f.id===i);let a=(r+t)%e.length,c=e[a];for(;c.disabled&&a!==r;)a=(a+t)%e.length,c=e[a];if(c.disabled)return;n.value=[e[a].id]}else{const i=e.find(r=>!r.disabled);i&&(n.value=[i.id])}}const x={register:d,unregister:v,selected:n,select:I,disabled:w(l,"disabled"),prev:()=>h(e.length-1),next:()=>h(1),isSelected:t=>n.value.includes(t),selectedClass:m(()=>l.selectedClass),items:m(()=>e),getItemIndex:t=>k(e,t)};return C(o,x),x}function k(l,o){const u=B(l,[o]);return u.length?l.findIndex(e=>e.id===u[0]):-1}function B(l,o){const u=[];return o.forEach(e=>{const n=l.find(d=>$(e,d.value)),s=l[e];(n==null?void 0:n.value)!=null?u.push(n.id):s!=null&&u.push(s.id)}),u}function D(l,o){const u=[];return o.forEach(e=>{const n=l.findIndex(s=>s.id===e);if(~n){const s=l[n];u.push(s.value!=null?s.value:n)}}),u}const X=y({eager:Boolean},"lazy");function Y(l,o){const u=W(!1),e=m(()=>u.value||l.eager||o.value);b(o,()=>u.value=!0);function n(){l.eager||(u.value=!1)}return{isBooted:u,hasContent:e,onAfterLeave:n}}export{T as a,X as b,Q as c,Y as d,_ as e,J as m,Z as u};
